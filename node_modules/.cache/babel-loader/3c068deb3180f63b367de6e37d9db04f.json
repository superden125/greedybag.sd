{"ast":null,"code":"import _defineProperty from\"/home/sd/HK1-2020-2021/NLCS/balo/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/sd/HK1-2020-2021/NLCS/balo/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/sd/HK1-2020-2021/NLCS/balo/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/sd/HK1-2020-2021/NLCS/balo/demo2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Input,Table,Form as Forms,FormGroup,Row,Col}from\"reactstrap\";import FlipMove from\"react-flip-move\";import{greedy}from\"../../greedy\";import InputFile from\"./InputFile\";import TypeBalo from\"./TypeBalo\";import ButtonControl from\"./ButtonControl\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";function TableItem(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState({value:\"\",touched:false,errors:\"\"}),_useState4=_slicedToArray(_useState3,2),weight=_useState4[0],setWeight=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState({value:0,errors:\"\"}),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isGreedy=_useState10[0],setIsGreedy=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),fileName=_useState12[0],setFileName=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),file=_useState14[0],setFile=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isHaveFile=_useState18[0],setIsHaveFile=_useState18[1];var initItem={name:\"\",value:\"\",weight:\"\",stock:\"\",qty:\"\"// time: \"\",\n};useEffect(function(){// /console.log(errors);\n},[errors]);var addItem=function addItem(){isGreedy&&setIsGreedy(false);setItems([].concat(_toConsumableArray(items),[initItem]));setErrors([].concat(_toConsumableArray(errors),[initItem]));};var handleWeightChange=function handleWeightChange(e){setIsGreedy(false);setWeight(_objectSpread(_objectSpread({},weight),{},{value:e.target.value,errors:\"\"}));};var handleChange=function handleChange(e,index){isGreedy&&setIsGreedy(false);var newArr=items.map(function(item,i){if(index===i){return _objectSpread(_objectSpread({},item),{},_defineProperty({},e.target.name,e.target.value));}else{return item;}});setItems(newArr);var newErr=errors.map(function(error,i){if(index===i){return _objectSpread(_objectSpread({},error),{},_defineProperty({},e.target.name,\"\"));}else{return error;}});setErrors(newErr);};var handleBlur=function handleBlur(index){return function(e){if(!e.target.value){var newErr=errors.map(function(error,i){if(index===i){return _objectSpread(_objectSpread({},error),{},_defineProperty({},e.target.name,\"Required\"));}else{return error;}});setErrors(newErr);}else{var _newErr=errors.map(function(error,i){if(index===i&&e.target.name!==\"name\"&&//e.target.value % 1 !== 0\nisNaN(e.target.value)){return _objectSpread(_objectSpread({},error),{},_defineProperty({},e.target.name,\"Value must be number\"));}//else {\nif(index===i&&e.target.name!==\"name\"&&parseInt(e.target.value)<=0){return _objectSpread(_objectSpread({},error),{},_defineProperty({},e.target.name,\"Value must > 0\"));}//else {\nif(index===i&&e.target.name===\"stock\"&&!Number.isInteger(parseFloat(e.target.value))){//error\nreturn _objectSpread(_objectSpread({},error),{},_defineProperty({},e.target.name,\"Stock must be Integer\"));}return error;//}\n//}\n});setErrors(_newErr);}//validItems(index, e.target.name, e.target.value);\n};};var handleWeightBlur=function handleWeightBlur(e){setWeight(_objectSpread(_objectSpread({},weight),{},{touched:true}));validWeight(e.target.value);};var validItems=function validItems(index,name,value){var valid=true;if(!value){var newErr=errors.map(function(error,i){if(index===i){valid=false;return _objectSpread(_objectSpread({},error),{},_defineProperty({},name,\"Required\"));}else{return error;}});setErrors(newErr);}else{var _newErr2=errors.map(function(error,i){if(index===i&&name!==\"name\"&&isNaN(value)){valid=false;return _objectSpread(_objectSpread({},error),{},_defineProperty({},name,\"Value must be number\"));}if(index===i&&name!==\"name\"&&parseInt(value)<=0){valid=false;return _objectSpread(_objectSpread({},error),{},_defineProperty({},name,\"Value must > 0\"));}if(index===i&&name===\"stock\"&&!Number.isInteger(parseFloat(value))){valid=false;return _objectSpread(_objectSpread({},error),{},_defineProperty({},name,\"Stock must be Integer\"));}return error;});setErrors(_newErr2);return valid;}};var validWeight=function validWeight(value){if(!value){setWeight(_objectSpread(_objectSpread({},weight),{},{errors:\"Required\"}));return false;}if(isNaN(value)){setWeight(_objectSpread(_objectSpread({},weight),{},{errors:\"Value must be number\"}));return false;}if(parseInt(value)<=0){setWeight(_objectSpread(_objectSpread({},weight),{},{errors:\"Value must be > 0\"}));return false;}return true;};var checkValue=function checkValue(){//false: no error\n//true: have error\nvar check=false;if(!validWeight(weight.value)){check=true;}var newErrors=_toConsumableArray(errors);for(var i=0;i<items.length;i++){var error=_objectSpread({},newErrors[i]);if(items[i].name===\"\"){error.name=\"Required\";check=true;}if(items[i].value===\"\"){error.value=\"Required\";check=true;}if(items[i].weight===\"\"){error.weight=\"Required\";check=true;}if(items[i].stock===\"\"&&type.value===\"2\"){error.stock=\"Required\";check=true;}if(type.value!==\"2\"){error.stock=\"\";}newErrors[i]=error;}setErrors(newErrors);if(haveError())check=true;return check;};var haveError=function haveError(){//true: have error\n//false: no error\nvar prevError=_toConsumableArray(errors);var i=0;while(i<prevError.length){if(prevError[i].name||prevError[i].value||prevError[i].stock||prevError[i].weight){return true;}i++;}return false;};var onSubmit=function onSubmit(){if(!checkType()&&!checkValue()){greedy(items,parseInt(type.value),parseFloat(weight.value));setIsGreedy(true);}};var clearItem=function clearItem(){setItems([]);setErrors([]);setWeight({value:\"\",touched:false,errors:\"\"});setType(_objectSpread(_objectSpread({},type),{},{value:0}));setIsGreedy(false);setFileName();setFile(\"\");setIsHaveFile(false);};var setItemsFile=function setItemsFile(inputItems){setItems(inputItems);setErrors([]);inputItems.forEach(function(item){setErrors(function(prev){return[].concat(_toConsumableArray(prev),[initItem]);});//setItems((prev) => [...prev, item]);\n});};var setInputFile=function setInputFile(inputWeight,inputItems){//clearItem();\nsetFile(\"\");setIsGreedy(false);inputWeight>0&&setWeight(_objectSpread(_objectSpread({},weight),{},{value:inputWeight,errors:\"\"}));setItemsFile(inputItems);setIsHaveFile(true);};var onTypeChange=function onTypeChange(e){isGreedy&&setIsGreedy(false);setType({value:e.target.value,errors:\"\"});};var checkType=function checkType(){//false no errors\n//true have errors\nif(type.value===0){setType(_objectSpread(_objectSpread({},type),{},{errors:\"Required\"}));return true;}return false;};var handleDeleteItem=function handleDeleteItem(index){var newItems=_toConsumableArray(items);newItems.splice(index,1);setItems(newItems);var newErrors=_toConsumableArray(errors);newErrors.splice(index,1);setErrors(newErrors);};var totalValue=function totalValue(items){return items.reduce(function(totalWeight,item){return totalWeight+item.qty*item.value;},0);};var totalWeight=function totalWeight(items){return items.reduce(function(totalWeight,item){return totalWeight+item.qty*item.weight;},0);};var notVisibleState={transform:\"translateX(-100%)\",opacity:0.1};var leaveOut={transform:\"translateX(100%)\",opacity:0.1};// const leaveState = {\n//   opacity: 0,\n// };\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Forms,null,/*#__PURE__*/React.createElement(Row,{form:true},/*#__PURE__*/React.createElement(Col,{md:3,className:\"offset-md-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sd-fade-left-right\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"legend\",null,\"Tr\\u1ECDng L\\u01B0\\u1EE3ng\"),/*#__PURE__*/React.createElement(Input,{style:{width:\"100px\"},type:\"number\",name:\"weight\",id:\"weight\",value:weight.value,onChange:handleWeightChange,onBlur:handleWeightBlur,className:weight.errors&&\"is-invalid\"}),weight.errors&&/*#__PURE__*/React.createElement(\"span\",{className:\"invalid-feedback\"},weight.errors)))),/*#__PURE__*/React.createElement(Col,{md:3},/*#__PURE__*/React.createElement(\"div\",{className:\"sd-fade-left-right\"},/*#__PURE__*/React.createElement(TypeBalo,{onTypeChange:onTypeChange,type:type}))),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"sd-fade-left-right\"},/*#__PURE__*/React.createElement(InputFile,{setFileName:setFileName,fileNames:fileName,items:items,isGreedy:isGreedy,setIsLoading:setIsLoading,setInputFile:setInputFile,file:file,setFile:setFile,inputWeight:weight.value,type:type.value,totalValue:totalValue,totalWeight:totalWeight,disabled:isHaveFile})))),/*#__PURE__*/React.createElement(ButtonControl,{clearItem:clearItem,addItem:addItem,onSubmit:onSubmit}),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center sd-fade-up-down\"},\"Danh S\\xE1ch \\u0110\\u1ED3 V\\u1EADt\"),/*#__PURE__*/React.createElement(Table,{striped:true,className:\"table-hover sd-fade-up-down sd-table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{style:{width:\"500px\"}},\"T\\xEAn \\u0111\\u1ED3 v\\u1EADt\"),/*#__PURE__*/React.createElement(\"th\",null,\"Gi\\xE1 tr\\u1ECB\"),/*#__PURE__*/React.createElement(\"th\",null,\"Tr\\u1ECDng l\\u01B0\\u1EE3ng\"),/*#__PURE__*/React.createElement(\"th\",null,\"S\\u1ED1 l\\u01B0\\u1EE3ng hi\\u1EC7n c\\xF3\"),/*#__PURE__*/React.createElement(\"th\",null,\"S\\u1ED1 l\\u01B0\\u1EE3ng l\\u1EA5y\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(FlipMove,{typeName:\"tbody\",enterAnimation:{from:notVisibleState,to:{}},leaveAnimation:{from:{},to:leaveOut}},items.length>0&&!isLoading&&items.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"name\",value:item.name?item.name:null,name:\"name\",onChange:function onChange(e){return handleChange(e,index);},onBlur:handleBlur(index),className:errors[index]&&errors[index].name&&\"is-invalid\"}),errors[index].name&&/*#__PURE__*/React.createElement(\"span\",{className:\"invalid-feedback\"},errors[index].name)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",value:item.value,name:\"value\"// type=\"number\"\n,onChange:function onChange(e){return handleChange(e,index);},onBlur:handleBlur(index),className:errors[index].value&&\"is-invalid\"}),errors[index].value&&/*#__PURE__*/React.createElement(\"span\",{className:\"invalid-feedback\"},errors[index].value)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",value:item.weight,name:\"weight\",onChange:function onChange(e){return handleChange(e,index);},onBlur:handleBlur(index),className:errors[index].weight&&\"is-invalid\"}),errors[index].weight&&/*#__PURE__*/React.createElement(\"span\",{className:\"invalid-feedback\"},errors[index].weight)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",value:item.stock,name:\"stock\",onChange:function onChange(e){return handleChange(e,index);},onBlur:handleBlur(index),className:errors[index].stock&&\"is-invalid\",disabled:type.value!==\"2\"?true:false}),errors[index].stock&&/*#__PURE__*/React.createElement(\"span\",{className:\"invalid-feedback\"},errors[index].stock)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Input,{type:\"text\",disabled:true,value:item.qty,name:\"qty\",onChange:function onChange(e){return handleChange(e,index);}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:\"trash-alt\",className:\"icon-trash\",onClick:function onClick(){return handleDeleteItem(index);}})));}),isGreedy&&/*#__PURE__*/React.createElement(\"tr\",{className:\"sd-total-row\"},/*#__PURE__*/React.createElement(\"td\",{className:\"sd-total-title\"},\"T\\u1ED5ng c\\u1ED9ng:\"),/*#__PURE__*/React.createElement(\"td\",null,totalValue(items)),/*#__PURE__*/React.createElement(\"td\",null,totalWeight(items)))))));}export default TableItem;","map":{"version":3,"sources":["/home/sd/HK1-2020-2021/NLCS/balo/demo2/src/components/Items/TableItem.js"],"names":["React","useState","useEffect","Input","Table","Form","Forms","FormGroup","Row","Col","FlipMove","greedy","InputFile","TypeBalo","ButtonControl","FontAwesomeIcon","TableItem","props","items","setItems","value","touched","errors","weight","setWeight","setErrors","type","setType","isGreedy","setIsGreedy","fileName","setFileName","file","setFile","isLoading","setIsLoading","isHaveFile","setIsHaveFile","initItem","name","stock","qty","addItem","handleWeightChange","e","target","handleChange","index","newArr","map","item","i","newErr","error","handleBlur","isNaN","parseInt","Number","isInteger","parseFloat","handleWeightBlur","validWeight","validItems","valid","checkValue","check","newErrors","length","haveError","prevError","onSubmit","checkType","clearItem","setItemsFile","inputItems","forEach","prev","setInputFile","inputWeight","onTypeChange","handleDeleteItem","newItems","splice","totalValue","reduce","totalWeight","notVisibleState","transform","opacity","leaveOut","width","from","to"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { Input, Table, Form as Forms, FormGroup, Row, Col } from \"reactstrap\";\nimport FlipMove from \"react-flip-move\";\n\nimport { greedy } from \"../../greedy\";\nimport InputFile from \"./InputFile\";\nimport TypeBalo from \"./TypeBalo\";\nimport ButtonControl from \"./ButtonControl\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction TableItem(props) {\n  const [items, setItems] = useState([]);\n  const [weight, setWeight] = useState({\n    value: \"\",\n    touched: false,\n    errors: \"\",\n  });\n  const [errors, setErrors] = useState([]);\n  const [type, setType] = useState({\n    value: 0,\n    errors: \"\",\n  });\n\n  const [isGreedy, setIsGreedy] = useState(false);\n\n  const [fileName, setFileName] = useState(\"\");\n  const [file, setFile] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const [isHaveFile, setIsHaveFile] = useState(false);\n\n  const initItem = {\n    name: \"\",\n    value: \"\",\n    weight: \"\",\n    stock: \"\",\n    qty: \"\",\n    // time: \"\",\n  };\n\n  useEffect(() => {\n    // /console.log(errors);\n  }, [errors]);\n\n  const addItem = () => {\n    isGreedy && setIsGreedy(false);\n    setItems([...items, initItem]);\n    setErrors([...errors, initItem]);\n  };\n\n  const handleWeightChange = (e) => {\n    setIsGreedy(false);\n    setWeight({ ...weight, value: e.target.value, errors: \"\" });\n  };\n\n  const handleChange = (e, index) => {\n    isGreedy && setIsGreedy(false);\n    let newArr = items.map((item, i) => {\n      if (index === i) {\n        return { ...item, [e.target.name]: e.target.value };\n      } else {\n        return item;\n      }\n    });\n    setItems(newArr);\n\n    let newErr = errors.map((error, i) => {\n      if (index === i) {\n        return { ...error, [e.target.name]: \"\" };\n      } else {\n        return error;\n      }\n    });\n    setErrors(newErr);\n  };\n\n  const handleBlur = (index) => (e) => {\n    if (!e.target.value) {\n      let newErr = errors.map((error, i) => {\n        if (index === i) {\n          return { ...error, [e.target.name]: \"Required\" };\n        } else {\n          return error;\n        }\n      });\n      setErrors(newErr);\n    } else {\n      let newErr = errors.map((error, i) => {\n        if (\n          index === i &&\n          e.target.name !== \"name\" &&\n          //e.target.value % 1 !== 0\n          isNaN(e.target.value)\n        ) {\n          return { ...error, [e.target.name]: \"Value must be number\" };\n        } //else {\n        if (\n          index === i &&\n          e.target.name !== \"name\" &&\n          parseInt(e.target.value) <= 0\n        ) {\n          return { ...error, [e.target.name]: \"Value must > 0\" };\n        } //else {\n\n        if (\n          index === i &&\n          e.target.name === \"stock\" &&\n          !Number.isInteger(parseFloat(e.target.value))\n        ) {\n          //error\n          return { ...error, [e.target.name]: \"Stock must be Integer\" };\n        }\n\n        return error;\n        //}\n        //}\n      });\n\n      setErrors(newErr);\n    }\n    //validItems(index, e.target.name, e.target.value);\n  };\n  const handleWeightBlur = (e) => {\n    setWeight({ ...weight, touched: true });\n    validWeight(e.target.value);\n  };\n\n  const validItems = (index, name, value) => {\n    var valid = true;\n    if (!value) {\n      let newErr = errors.map((error, i) => {\n        if (index === i) {\n          valid = false;\n          return { ...error, [name]: \"Required\" };\n        } else {\n          return error;\n        }\n      });\n      setErrors(newErr);\n    } else {\n      let newErr = errors.map((error, i) => {\n        if (index === i && name !== \"name\" && isNaN(value)) {\n          valid = false;\n          return { ...error, [name]: \"Value must be number\" };\n        }\n\n        if (index === i && name !== \"name\" && parseInt(value) <= 0) {\n          valid = false;\n          return { ...error, [name]: \"Value must > 0\" };\n        }\n\n        if (\n          index === i &&\n          name === \"stock\" &&\n          !Number.isInteger(parseFloat(value))\n        ) {\n          valid = false;\n          return { ...error, [name]: \"Stock must be Integer\" };\n        }\n\n        return error;\n      });\n\n      setErrors(newErr);\n      return valid;\n    }\n  };\n\n  const validWeight = (value) => {\n    if (!value) {\n      setWeight({ ...weight, errors: \"Required\" });\n      return false;\n    }\n\n    if (isNaN(value)) {\n      setWeight({ ...weight, errors: \"Value must be number\" });\n      return false;\n    }\n\n    if (parseInt(value) <= 0) {\n      setWeight({ ...weight, errors: \"Value must be > 0\" });\n      return false;\n    }\n\n    return true;\n  };\n\n  const checkValue = () => {\n    //false: no error\n    //true: have error\n    let check = false;\n\n    if (!validWeight(weight.value)) {\n      check = true;\n    }\n\n    const newErrors = [...errors];\n\n    for (var i = 0; i < items.length; i++) {\n      let error = { ...newErrors[i] };\n      if (items[i].name === \"\") {\n        error.name = \"Required\";\n        check = true;\n      }\n      if (items[i].value === \"\") {\n        error.value = \"Required\";\n        check = true;\n      }\n      if (items[i].weight === \"\") {\n        error.weight = \"Required\";\n        check = true;\n      }\n      if (items[i].stock === \"\" && type.value === \"2\") {\n        error.stock = \"Required\";\n        check = true;\n      }\n      if (type.value !== \"2\") {\n        error.stock = \"\";\n      }\n      newErrors[i] = error;\n    }\n    setErrors(newErrors);\n    if (haveError()) check = true;\n    return check;\n  };\n\n  const haveError = () => {\n    //true: have error\n    //false: no error\n    let prevError = [...errors];\n    var i = 0;\n    while (i < prevError.length) {\n      if (\n        prevError[i].name ||\n        prevError[i].value ||\n        prevError[i].stock ||\n        prevError[i].weight\n      ) {\n        return true;\n      }\n      i++;\n    }\n    return false;\n  };\n\n  const onSubmit = () => {\n    if (!checkType() && !checkValue()) {\n      greedy(items, parseInt(type.value), parseFloat(weight.value));\n      setIsGreedy(true);\n    }\n  };\n\n  const clearItem = () => {\n    setItems([]);\n    setErrors([]);\n    setWeight({\n      value: \"\",\n      touched: false,\n      errors: \"\",\n    });\n    setType({ ...type, value: 0 });\n    setIsGreedy(false);\n    setFileName();\n    setFile(\"\");\n    setIsHaveFile(false);\n  };\n\n  const setItemsFile = (inputItems) => {\n    setItems(inputItems);\n    setErrors([]);\n\n    inputItems.forEach((item) => {\n      setErrors((prev) => [...prev, initItem]);\n      //setItems((prev) => [...prev, item]);\n    });\n  };\n\n  const setInputFile = (inputWeight, inputItems) => {\n    //clearItem();\n    setFile(\"\");\n    setIsGreedy(false);\n    inputWeight > 0 && setWeight({ ...weight, value: inputWeight, errors: \"\" });\n    setItemsFile(inputItems);\n    setIsHaveFile(true);\n  };\n\n  const onTypeChange = (e) => {\n    isGreedy && setIsGreedy(false);\n    setType({\n      value: e.target.value,\n      errors: \"\",\n    });\n  };\n\n  const checkType = () => {\n    //false no errors\n    //true have errors\n    if (type.value === 0) {\n      setType({ ...type, errors: \"Required\" });\n      return true;\n    }\n    return false;\n  };\n\n  const handleDeleteItem = (index) => {\n    const newItems = [...items];\n    newItems.splice(index, 1);\n    setItems(newItems);\n\n    const newErrors = [...errors];\n    newErrors.splice(index, 1);\n    setErrors(newErrors);\n  };\n\n  const totalValue = (items) => {\n    return items.reduce(\n      (totalWeight, item) => totalWeight + item.qty * item.value,\n      0\n    );\n  };\n\n  const totalWeight = (items) => {\n    return items.reduce(\n      (totalWeight, item) => totalWeight + item.qty * item.weight,\n      0\n    );\n  };\n\n  const notVisibleState = {\n    transform: \"translateX(-100%)\",\n    opacity: 0.1,\n  };\n\n  const leaveOut = {\n    transform: \"translateX(100%)\",\n    opacity: 0.1,\n  };\n\n  // const leaveState = {\n  //   opacity: 0,\n  // };\n\n  return (\n    <div>\n      <Forms>\n        <Row form>\n          <Col md={3} className=\"offset-md-2\">\n            <div className=\"sd-fade-left-right\">\n              <FormGroup>\n                <legend>Trọng Lượng</legend>\n                <Input\n                  style={{ width: \"100px\" }}\n                  type=\"number\"\n                  name=\"weight\"\n                  id=\"weight\"\n                  value={weight.value}\n                  onChange={handleWeightChange}\n                  onBlur={handleWeightBlur}\n                  className={weight.errors && \"is-invalid\"}\n                />\n                {weight.errors && (\n                  <span className=\"invalid-feedback\">{weight.errors}</span>\n                )}\n              </FormGroup>\n            </div>\n          </Col>\n          <Col md={3}>\n            <div className=\"sd-fade-left-right\">\n              <TypeBalo onTypeChange={onTypeChange} type={type} />\n            </div>\n          </Col>\n          <Col md={4}>\n            <div className=\"sd-fade-left-right\">\n              <InputFile\n                setFileName={setFileName}\n                fileNames={fileName}\n                items={items}\n                isGreedy={isGreedy}\n                setIsLoading={setIsLoading}\n                setInputFile={setInputFile}\n                file={file}\n                setFile={setFile}\n                inputWeight={weight.value}\n                type={type.value}\n                totalValue={totalValue}\n                totalWeight={totalWeight}\n                disabled={isHaveFile}\n              />\n            </div>\n          </Col>\n        </Row>\n        <ButtonControl\n          clearItem={clearItem}\n          addItem={addItem}\n          onSubmit={onSubmit}\n        />\n        <h2 className=\"text-center sd-fade-up-down\">Danh Sách Đồ Vật</h2>\n\n        <Table striped className=\"table-hover sd-fade-up-down sd-table\">\n          <thead>\n            <tr>\n              <th style={{ width: \"500px\" }}>Tên đồ vật</th>\n              <th>Giá trị</th>\n              <th>Trọng lượng</th>\n              <th>Số lượng hiện có</th>\n              <th>Số lượng lấy</th>\n              <th></th>\n            </tr>\n          </thead>\n          {/* <tbody> */}\n          <FlipMove\n            typeName=\"tbody\"\n            enterAnimation={{\n              from: notVisibleState,\n              to: {},\n            }}\n            leaveAnimation={{\n              from: {},\n              to: leaveOut,\n            }}\n          >\n            {items.length > 0 &&\n              !isLoading &&\n              items.map((item, index) => (\n                <tr key={index}>\n                  <td>\n                    <Input\n                      type=\"text\"\n                      id=\"name\"\n                      value={item.name ? item.name : null}\n                      name=\"name\"\n                      onChange={(e) => handleChange(e, index)}\n                      onBlur={handleBlur(index)}\n                      className={\n                        errors[index] && errors[index].name && \"is-invalid\"\n                      }\n                    ></Input>\n                    {errors[index].name && (\n                      <span className=\"invalid-feedback\">\n                        {errors[index].name}\n                      </span>\n                    )}\n                  </td>\n                  <td>\n                    <Input\n                      type=\"text\"\n                      value={item.value}\n                      name=\"value\"\n                      // type=\"number\"\n                      onChange={(e) => handleChange(e, index)}\n                      onBlur={handleBlur(index)}\n                      className={errors[index].value && \"is-invalid\"}\n                    ></Input>\n                    {errors[index].value && (\n                      <span className=\"invalid-feedback\">\n                        {errors[index].value}\n                      </span>\n                    )}\n                  </td>\n                  <td>\n                    <Input\n                      type=\"text\"\n                      value={item.weight}\n                      name=\"weight\"\n                      onChange={(e) => handleChange(e, index)}\n                      onBlur={handleBlur(index)}\n                      className={errors[index].weight && \"is-invalid\"}\n                    ></Input>\n                    {errors[index].weight && (\n                      <span className=\"invalid-feedback\">\n                        {errors[index].weight}\n                      </span>\n                    )}\n                  </td>\n                  <td>\n                    <Input\n                      type=\"text\"\n                      value={item.stock}\n                      name=\"stock\"\n                      onChange={(e) => handleChange(e, index)}\n                      onBlur={handleBlur(index)}\n                      className={errors[index].stock && \"is-invalid\"}\n                      disabled={type.value !== \"2\" ? true : false}\n                    ></Input>\n                    {errors[index].stock && (\n                      <span className=\"invalid-feedback\">\n                        {errors[index].stock}\n                      </span>\n                    )}\n                  </td>\n                  <td>\n                    <Input\n                      type=\"text\"\n                      disabled\n                      value={item.qty}\n                      name=\"qty\"\n                      onChange={(e) => handleChange(e, index)}\n                    ></Input>\n                  </td>\n                  <td>\n                    <FontAwesomeIcon\n                      icon=\"trash-alt\"\n                      className=\"icon-trash\"\n                      onClick={() => handleDeleteItem(index)}\n                    />\n                  </td>\n                </tr>\n              ))}\n            {isGreedy && (\n              <tr className=\"sd-total-row\">\n                <td className=\"sd-total-title\">Tổng cộng:</td>\n                <td>{totalValue(items)}</td>\n\n                <td>{totalWeight(items)}</td>\n              </tr>\n            )}\n          </FlipMove>\n          {/* </tbody> */}\n        </Table>\n      </Forms>\n    </div>\n  );\n}\n\nTableItem.propTypes = {};\n\nexport default TableItem;\n"]},"metadata":{},"sourceType":"module"}